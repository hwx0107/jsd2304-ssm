## 介绍

### 课程介绍

* 数据库MariaDB
* 框架 SSM

### 自我介绍

* 王伟超

* wangweichao@tedu.cn





## 数据库分类

* 关系型数据库

  数据以行和列（二维表）方式存储；

  Oracle、MySQL（**磁盘**）、MariaDB（**磁盘**）、SQL Server

* 非关系型数据库

  数据以键值对的方式存储；

  MongoDB、Redis（**内存**）

## SQL语言

* DDL：操作数据库对象（库、表、表字段）
* DML：操作数据（数据的增删改）
* DQL：查询数据

## SQL语句

* 库操作

  * 创建库：CREATE DATABASE 库名 CHARSET=UTF8;
  * 查看所有库：SHOW DATABASES;
  * 查看创建库语句[字符集]：SHOW CREATE DATABASE 库名;
  * 切换库：USE 库名;
  * 删除库：DROP DATABASE 库名;

* 表操作

  * 创建表：CREATE TABLE 表名(字段名 数据库类型,字段名 数据类型) CHARSET=UTF8;
  * 查看所有表：SHOW TABLES;
  * 查看表结构：DESC 表名;
  * 查看创建表的语句：SHOW CREATE TABLE 表名;
  * 删除表：DROP TABLE 表名;
  * 修改表名：RNAME 原表名 TO 新表名;

* 表字段操作

  * 添加表字段

    * 末尾添加：ALTER TABLE 表名 ADD 字段名 数据类型;
    * 添加到第一个字段：ALTER TABLE 表名 ADD 字段名 数据类型 FIRST;
    * 指定位置添加字段：ALTER TABLE 表名 ADD 字段名 数据类型 AFTER 字段名;

  * 删除表字段

    ALTER TABLE 表名 DROP 字段名;

  * 修改表字段类型

    ALTER TABLE 表名 MODIFY 字段名 新数据类型;

  * 替换表字段

    ALTER TABLE 表名 CHANGE 原字段名 新字段名 数据类型;

* 表数据操作

  * 增INSERT

    INSERT INTO 表名(字段名,...) VALUES (第一条表记录),(第二条表记录);

  * 删DELETE

    DELETE FROM 表名 WHERE 过滤条件;

  * 改UPDATE

    UPDATE 表名 SET 字段名=值,字段名=值 WHERE 过滤条件;

  * 查SELECT

    SELECT * FROM 表名;



## 约束

* 主键约束 `PRIMARY KEY AUTO_INCREMENT`

  字段的值不允许重复，而且不允许为空值NULL

* 非空约束 `NOT NULL`

  字段的值不允许为空值NULL

* 唯一约束 `UNIQUE`

  字段的值不允许重复，但是可以为空值NULL

* 检查约束 `CHECK`

  可以增加条件的限定

* 外键约束 `FOREIGN KEY`

  * RESTRICT
  * CASCADE
  * SET NULL





















### MariaDB字符集

* 常见的字符集：`latin1、utf8、gbk`

* 创建库时：

  `CREATE DATABASE 库名;`  

  未指定字符集，如果是之前的MariaDB版本，默认是 `latin1`  ，对中文支持不友好。

  如果是MariaDB后期的版本，默认是 `utf8` ，对中文支持没有问题。

* 养成好习惯

  * 创建库，指定字符集：`CREATE DATABASE 库名 CHARSET=UTF8;`
  * 创建表，指定字符集：`CREATE TABLE 表名(......)CHARSET=UTF8;`



























* 用户表

  | 用户编号 | 用户名 | 密码   |
  | -------- | ------ | ------ |
  | 1        | 张三   | 123456 |
  | 2        | 李四   | 123456 |

* 订单表

  | 订单编号 | 订单金额 | 订单状态 | 用户编号 |
  | -------- | -------- | -------- | -------- |
  | 111111   | 5000.00  | 待付款   | 1        |
  | 222222   | 6000.00  | 待发货   | 1        |
  






